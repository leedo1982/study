

#규칙22 멤버클래스는 가능하면 static 으로 선언하라

중첩 클래스는 다른 클래스 안에 정의된 클래스다.
중첩클래스는 해당 클래스가 속한 클래스 안에서만 사용된다. 
중첩클래스는 네가 종류가 있다.
1. 정적 멤버클래스
2. 비-정적 멤버 클래스
3. 익명클래스
4. 지역클래스

첫번째를 제외한 나머지는 전부 내부 클래스다.

정정 멤버 클래스는 바깥 클래스의 모든 멤버에(private로 선언된 것까지도) 접근할 수 있다.
정적멤버클래스는 바깥 클래스의 정적 멤버이며, 다른 정적 멤버와 동일한 접근 권한 규칙을 따른다.
정적멤버클래스를 private로 선언했다면 해당 중첩클래스에 접근할 수 있는 것은 바깥 클래스 뿐이다.

문법적으로 보자면 정적멤버클래스와 비-정적멤버클래스의 차이는 멤버 클래스 앞에 static 키워드의 
차이 뿐이다. 그럼에도 두 중첩클래스는 사뭇다르다. 비-정적멤버클래스 객체는 바깥 클래스 객체와 
자동적으로 연결된다. 

Set나 List 같은 컬랙션 인터페이스를 구현하는 클래스는 비-정적멤버클래스 를 사용해 반복자를 구현한다.

```java
	// 비-정적 멤버 클래스의 전형적 용례
	public class MySet<E> extends AbstractSet<E>{
		... // 생략
		
		public Iterator<E> iterator(){
			return new MyIterator();	
		}	

		private class MyIterator implements Iterator<E>{
			...	
		}
	
	}
```

바깥 클래스 객체어 접근할 필요가 없는 멤버 클래스를 정의할 때는 항상 선언문 앞에 static을 붙여서
비-정적 멤버 클래스 대신 정적멤버클래스 로 만들자
static을 생략하면 모든 객체는 내부적으로 바깥 객체에 대한 참조를 유지하게 된다.
그 덕분에 시간과 공간 요구량이 늘어나며, 바깥 객체에 대한 쓰레기 수집이 힘들어진다.
비-정적멤버클래스객체는 바깥 객체 없이는 생성할 수 없다는 문제도 있다.

익명클래스는 자바 언더의 다른 어떤 것과도 다른다.
익명클래스는 이름이 없다. 바깥 클래스의 멤버도 아니다. 
멤버로 선언하지 않으며, 사용하는 순간에 선언하고 객체를 만든다. 
표현식 문법을 준수하기만 하면 코드어디서든 사용할 수 있다. 

익명클래스를 사용하는데 많은 제약이 잇다. 선언하는 바로 그 순간에만 객체를 만들수 있다.
클래스 이름이 필요한 곳에는 사용할 수 없다. 익명클래스의 ㅋㅋㅋ클라이언트는 상위 자료형에서
상속된 멤버만 호출할 수 있다. 익명클래스는 표현식 중간에 등장하므로, 10줄 이하로 짧게 작성되어야 한다.
아니면 가독성이 떨어질 것이다.

지역클래스는 네 종료의 중첩클래스 가운데 사용 빈도가 가장 낮다. 

요약하자면, 중첩 클래스에는 네가지 종류가 있다. 그리고 그 각각은 어울리는 자리가 다르다. 중첩 클래스
를 메서드 밖에서 사용할 수 있어야 하거나, 메서드 안에 놓기에 너무 길 경우에는 멤버클래스로 정의하라
멤버 클래스의 객체가 각각이 바깥 객체에 대한 참조를 가져야하는 경우에는 비-정적멤버클래스로 만들라.
그렇지 않은 경우에는 정적멤버클래스로 만들면된다.
중첩 클래스가 특정한 메서드에 속해야하고, 오직 한곳에서만 객체를 생성하며, 해당 중첩클래스의 특성을
규정하는 자료형이 이미 있다면 익명 클래스로 만들라. 그렇지 않을 때는 지역 클래스로 만들면 된다.
