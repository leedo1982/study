
10장 병행성
- 스레드를 이용하면 여러 활동을 병렬적으로 진행할 수 있다
- 문제가 생길 수 있는 곳도 늘어나고, 오류를 재현하기도 어려워진다
- 하지만 병행성을 외면할 수는 없다.
- 명료하고 정확하며, 좋은 문서를 갖춘 병렬 프로그램을 만드는데 도움이 되는 지침들을 알아보자.

------------------------------------------------------------------------

규칙 66 변경가능 공유 데이터에 대한 접근은 동기화하라.

synchronized 키워드는 특정 메서드나 코드블록을 한번에 한 스레드만 사용하도록 보장한다.
많은 프로그래머는 동기화를 사오 배제적인 관점, 그러니깐 다른 스레드가 변경중인 객체의 상태를 
관측할 수 없어야 한다는 관점으로만 바라본다
맞는 말이나, 절반만 이야기 했을 뿐이다.
동기화 없이는 한 스레드가 만든 변화를 다른 스레드가 확인할 수 없다.

```text
동기화는 스레드가 일관성이 깨진 객체를 관측할 수 없도록 할 뿐아니라,
동기화 메서드나 동기화 블록에 진입한 스레드가 동일한 락의 보호 아래 이루어진 모든 변경의 영향을
관측할 수 있도록 보장한다
```

자바언어 명세에는 long나 double이 아닌 모든 변수는 원자적으로 읽고 쓸수 있다고 되어있다.
다시말해, long나 double이 아닌 변수를 읽으면 나오는 값은 항상 어떤 스레드가 저장한 값이라는 것이다
설사 여러 스레드가 그 변수를 동기화 없이 변경했다고 해도 말이다

------------------------------------------------------------------------


------------------------------------------------------------------------
------------------------------------------------------------------------
------------------------------------------------------------------------
