
### 1장 오브젝트와 의존관계

```text

	1장에서는 스프링이 어떤 것이고, 무엇을 제공하는지 보다는
	스프링이 관심을 갖는 대상인 오브젝트의 설계와 구현, 동작원리에 더 집중!!!

```

#### DAO
DAO(Data Access Object)는 DB를 사용해 데이터를 조회하거나 조작하는 기능을 전담하도록 만든 오브젝트를 말한다.

#### 템플릿 메소드 패턴(template method pattern)
슈퍼클래스에 기본적인 로직의 흐름(커넥션가져오기, SQL생성, 실행, 반환)을 만들고, 
그 기능의 일부를 추상메서드나 오버라이딩 가능한 protected 메소드 등으로 만든뒤 
서브클래스에서 이런 메소드를 필요에 맞게 구현해서 사용하도록 하는 방법


#### 팩토리 메소드 패턴
UserDao 의 서브캘래스의 getConnection() 메소드는 어떤 Connection 클래스의 오브젝트를 어떻게 생성할 것인지를 결정하는 방법이라고 불수 있다 .
이렇게 서브클래스에서 구채적인 오브젝트 생성방법을 결정하게 하는 것


#### 객체지향 기술의 원칙과 패턴

##### 1. 개방 폐쇄 원칙
객체 지향 설계 원칙중의 하나로 간단히 정의하자면
'클래스나 모듈은 확장에는 열려 있어야 하고 변경에는 닫혀 있어야 한다.'

##### 2. 높은 응집도와 낮은 결합도
응집도가 높다는 것은 하나의 모듈, 클래스가 하나의 책임 또는 관심사에만 집중되어 있다는 듯이다. 
낮은결합도는 높은 응집도 보다 더 민감한 원칙이다. 책임과 관심사가 다른 오브젝트 또는 모듈과는 낮은 결합도
즉 느슨하게 연결된 형태를 유지하는 것이 바람직하다.

##### 3. 전략패턴
전략패턴은 개방 폐쇄 원칙의 실현에서도 가장 잘 들어맞는 패턴이라고 볼수 있다. 
전략패턴은 자신의 기능 맥락에서 필요에 따라 변경이 필요한 알고리즘을 인터페이스를 통해 통째로 
외부로 분리시키고, 이를 구현한 구체적인 알고리즘 클래스를 필요에 따라 바꿔서 사용할 수 있게하는 디자인 패턴이다.
개선한 UserDatTest-UserDao-ConnectionMaker 구조


#### 팩토리
객체의 생성방법을 결정하고 그렇게 만들어진 오브젝트를 돌려주는 일을하는 오브젝트를 흔히 팩토리라 부른다.  
팩토리 메소드 패턴과, 추상 팩토리 패턴과는 다르다. 


#### 제어의 역전
간단히 프로그램의 제어 프름 구조가 뒤바뀌는 것이라고 설명할 수 있다.
일반적으로 main() 메소드와 같이 프로그램이 시작되는 지점에서 다음에 사용할 오브젝트를 결정하고, 결정한 오브젝트를 생성하고, 
만들어진 오브젝트에 있는 메소드를 후출하고, 그 오브젝트 메소드 안에서 다음 사용할 것을 결정하고 호출하는 식의 작업이 반복된다.

제어의 역전이란 이런 제어 흐름의 개념을 꺼꾸로 뒤집는 것이다.
제어의 역전에서는 오브젝트가 자신이 사용할 오브젝트를 스스로 선택하지 않는다. 당연히 생성하지도 않는다.
또 자신도 어떻게 만들어지고 어디서 사용되는지를 알수 없다.
모든 제어 권한을 자신이 아닌 다른 대상에게 위임하기 때문이다. 

#### 스프링 BEAN ?
스프링이 제어권을 가지고 직접 만들고 관ㄹ계를 부여하는 오브젝트를 Bean 이라고 부른다.
동시에 스프링 bean 은 스프링 컨테이너가 생성과 관계설정, 사용 등을 제어해주는 제어의 역전이 적용된 오브젝트를 가리키는 말이다.
스프링에서는 빈의 생성과 관계설정 같은 제어를 담당하는 IoC 오브젝트를 빈팩토리라고 부른다.
보통 빈팩토리보다는 이를 좀더 확장한 애플리케이션 컨텍스트를 주로 사용한다. 두 용어가 동일하다고 생각해도 무방하다.

#### 애플리케이션 컨텍스트를 사용했을 때 얻을 수 있는 장점
1. 클라이언트는 구체적인 팩토리 클래스를 알 필요가 없다.
2. 애플리케이션 컨텍스트는 종합 IoC 서비스를 제공해준다.
3. 애플리케이션 컨텍스트는 빈을 검색하는 다양한 방법을 제공한다. 


####  스프링 IoC 용어 정리
##### 빈(bean)
 빈 또는 빈 오브젝트는 스프링이 IoC 방식으로 관리하는 오브젝트라는 뜻이다. 
 주의할 점은 스프링을 사용하는 애플리케이션에서 만들어지는 모든 오브젝트가 다 빈은 아니라는 사실
 그 중에서 직접 생성과 제어를 담당하는 오브젝트만을 빈이라 부른다.
##### 빈 팩토리(bean factory)
스프링의 IoC를 담당하는 핵심 컨테이너. 빈을 등록하고, 생성하고, 조회화고 돌려주고, 그 외에 부가적인 빈을 관리하는 기능을 담당
보톤 빈팩토리를 상속받은 애플리케이션 컨텍스트를 이용
##### 애플리케이션 컨텍스트
빈 팩토리를 확장한 IoC 컨테이너. Applicationcomtext 는 BeanFactory를 상속한다.
싱글톤 레지스트리
##### 설정정보/설정 메타정보
IoC를 적용하기 위해 사용하는 메타정보. 영어로 'configuration'
##### 컨테이너(container) 또는 IoC 컨테이너
IoC 방식으로 빈을 관리한다는 의미에서 애플리케이션 컨텍스트나 빈 팩토리를 컨테이너 또는 IoC 컨테이너라고도 한다. 
컨테이너라는 말 자체가 IoC의 개념을 담고 있기 때문에 이름이 긴 애플리케이션 컨텍스트 대신에 스프링 컨테이너라고 부르기도 한다. 
애플리케이션 컨텍스트보다 추석정인 표현이며, 애플리케이션 컨텍스트 오브젝트는 하나의 애플리케이션에서 보동 여러개가 만들어저 사용된다.
이를 통틀어서 스프링 컨테이너라고 부를 수 있다.

#### 싱글톤 패턴의 한계
1. private 생성자를 갖고 있기 때문에 상송할 수 없다.
2. 싱글톤은 테스트하기가 힘들다.
3. 서버환경에서는 싱글톤이 하나만 만들어지는 것을 보장하지 못한다.
4. 싱글톤의 사용은 전역 상태를 만들 수 있기 때문에 바람직하지 못하다.

#### 싱글톤 레지스트리
자바의 기본적인 싱글톤 패턴의 구현 방식은 여러가지 단줌이 있기 때문에, 스프링은 직접
싱글톤 형태의 오브젝트를 만들고 관리하는 기능을 제공함다. 그것이 바로 싱글톤 레지스트리다.
싱글톤 레지스트리의 장점은 스태틱 메소드와 private 생성자를 사용해야 하는 비정상적인 클래스가 아니라
평범한 자바 클래스를 싱글톤으로 활용하게 해준다는 점이다. 



#### 의존관계
두개의 클래스 또는 모듈의 의존관계에 있다고 말할 때는 항상 방향성을 부여해줘야한다. 
UML 모델에서는 A ---> B 인경우 A가 B에 의존하고 있음을 나타낸다.
의존한다는 것은 여기소 B가 변하는 경우  A 에 영향을 미친다는 뜻이다.

#### 의존관계 주입이란
1. 클래스 모델이나 코드에는 런타임 시점의 의존관계가 드러나지 않는다.
그러기 위해서는 인터페이스에만 의존하고 있어야 한다.
2.런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제 3의 존재가 결정한다.
3. 의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)해줌으로써 만들어진다.

*제 3의 존재 : 애플리케이션 컨텍스트, 빈팩토리, IoC 컨테이너 등..







 
 
 
 
 
 
 
 



